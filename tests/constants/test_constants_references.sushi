# Test constants referencing other constants
# EXPECT_RUNTIME_EXIT: 0
# EXPECT_STDOUT_CONTAINS: "All constant reference tests passed"

const i32 WIDTH = 100
const i32 HEIGHT = 50
const i32 AREA = WIDTH * HEIGHT

const i32 BASE = 10
const i32 MULTIPLIER = 3
const i32 OFFSET = 5
const i32 RESULT = BASE * MULTIPLIER + OFFSET

const i32 A = 10
const i32 B = A + 20
const i32 C = B * 2
const i32 D = C - A

const f64 PI = 3.14159
const f64 RADIUS = 10.0
const f64 CIRCUMFERENCE = 2.0 * PI * RADIUS

fn main() i32:
    # Verify reference results
    if (WIDTH != 100):
        return Result.Err(StdError.Error)
    if (HEIGHT != 50):
        return Result.Err(StdError.Error)
    if (AREA != 5000):
        return Result.Err(StdError.Error)

    if (BASE != 10):
        return Result.Err(StdError.Error)
    if (MULTIPLIER != 3):
        return Result.Err(StdError.Error)
    if (OFFSET != 5):
        return Result.Err(StdError.Error)
    if (RESULT != 35):
        return Result.Err(StdError.Error)

    if (A != 10):
        return Result.Err(StdError.Error)
    if (B != 30):
        return Result.Err(StdError.Error)
    if (C != 60):
        return Result.Err(StdError.Error)
    if (D != 50):
        return Result.Err(StdError.Error)

    if (PI < 3.14 or PI > 3.15):
        return Result.Err(StdError.Error)
    if (RADIUS < 9.9 or RADIUS > 10.1):
        return Result.Err(StdError.Error)
    if (CIRCUMFERENCE < 62.8 or CIRCUMFERENCE > 62.9):
        return Result.Err(StdError.Error)

    println("All constant reference tests passed")
    return Result.Ok(0)
