# EXPECT_RUNTIME_EXIT: 0
# TEST_TYPE: runtime

fn add(i32 a, i32 b) i32:
  return Result.Ok(a + b)

fn multiply(i32 x, i32 y) i32:
  let i32 result = x * y
  return Result.Ok(result)

fn greet(string name) string:
  println("Hello")
  println(name)
  return Result.Ok(name)


fn main() i32:
  let i32 sum = add(5, 3).realise(0)
  let i32 product = multiply(4, 7).realise(0)

  # Function calls in expressions
  let i32 complex = add(product, multiply(2, 3).realise(0)).realise(0)

  # sum = 8
  # product = 28
  # complex = add(28, 6) = 34
  # total = 8 + 28 + 34 = 70

  let i32 total = sum + product + complex
  let i32 expected = 70
  return Result.Ok(expected - total)
