# TEST_TYPE: runtime
# EXPECTED_OUTPUT: 3

struct Container<T>:
    T[] data

fn create_container() Container<i32>:
    let Container<i32> c = Container(from([1, 2, 3]))
    return Result.Ok(c)

fn run_test() i32:
    let Container<i32> c = create_container()??
    println(c.data.len())
    # c.data should be automatically cleaned up at scope exit
    return Result.Ok(0)

fn main() i32:
    let i32 result = run_test().realise(99)
    return Result.Ok(result)
