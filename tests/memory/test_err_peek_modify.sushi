# Test error: cannot modify through &peek reference
# &peek is read-only, modification should fail

fn try_modify(&peek i32 x) ~:
    # ERROR: Cannot modify through &peek reference
    x := x + 1
    return Result.Ok(~)

fn main() i32:
    let i32 num = 42
    println(num)
    let Result<~, StdError> result = try_modify(&peek num)
    return Result.Ok(0)
