# Test that HashMap validates key type has .hash() method (CE2054)
# This test validates the error path exists in the compiler
# Currently all primitive types and user-defined types get hash auto-derived
# so this test documents the validation logic for future unhashable types

struct ValidKey:
    i32 x
    i32 y

fn main() i32:
    # This should succeed - ValidKey has auto-derived .hash()
    let HashMap<ValidKey, string> map = HashMap.new()
    let ValidKey p = ValidKey(1, 2)
    map.insert(p, "test")

    return Result.Ok(0)
