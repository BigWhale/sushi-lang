# Test reference to dynamic array with method calls

fn array_info(&i32[] arr) ~:
    println(arr.len())
    println(arr.get(0)??)
    println(arr.get(2)??)
    return Result.Ok(~)

fn run_test() i32:
    let i32[] numbers = from([10, 20, 30])

    # Pass array by reference
    array_info(&numbers)

    # Array still valid and unchanged
    println(numbers.len())
    println(numbers.get(1)??)

    return Result.Ok(0)

fn main() i32:
    let i32 result = run_test().realise(99)
    return Result.Ok(result)
