# Test hash method for dynamic arrays

fn main() i32:
    # Test basic dynamic array hashing
    let i32[] arr1 = from([10, 20, 30])
    let u64 hash1 = arr1.hash()
    println("Dynamic array [10, 20, 30].hash() = {hash1}")

    # Test that same values produce same hash
    let i32[] arr2 = from([10, 20, 30])
    let u64 hash2 = arr2.hash()
    if (hash1 == hash2):
        println("✓ Same dynamic array values produce same hash")
    else:
        println("✗ Same dynamic array values produce different hash")

    # Test that different values produce different hash
    let i32[] arr3 = from([5, 15, 25])
    let u64 hash3 = arr3.hash()
    if (hash1 != hash3):
        println("✓ Different dynamic array values produce different hashes")
    else:
        println("✗ Different dynamic array values produce same hash")

    # Test that element order matters
    let i32[] arr4 = from([30, 20, 10])
    let u64 hash4 = arr4.hash()
    if (hash1 != hash4):
        println("✓ Element order matters ([10,20,30] != [30,20,10])")
    else:
        println("✗ Element order doesn't matter")

    # Test that array length affects hash
    let i32[] arr5 = from([10, 20])
    let u64 hash5 = arr5.hash()
    if (hash1 != hash5):
        println("✓ Array length affects hash ([10,20,30] != [10,20])")
    else:
        println("✗ Array length doesn't affect hash")

    # Test empty array
    let i32[] empty = from([])
    let u64 empty_hash = empty.hash()
    println("Empty array [].hash() = {empty_hash}")

    # Test after push
    let i32[] arr6 = from([10, 20])
    arr6.push(30)
    let u64 hash6 = arr6.hash()
    if (hash1 == hash6):
        println("✓ Hash after push matches expected")
    else:
        println("✗ Hash after push doesn't match")

    arr1.destroy()
    arr2.destroy()
    arr3.destroy()
    arr4.destroy()
    arr5.destroy()
    empty.destroy()
    arr6.destroy()

    return Result.Ok(0)
