# EXPECT_RUNTIME_EXIT: 0
# EXPECT_STDOUT_CONTAINS: PASS: Err construction works
# EXPECT_STDERR_EMPTY: true

# Tests basic Err variant construction with implicit Result syntax

enum MyError:
    ErrorA
    ErrorB

fn returns_err() i32 | MyError:
    return Result.Err(MyError.ErrorA)

fn main() i32:
    match returns_err():
        Result.Ok(_) ->
            println("FAIL: Got Ok instead of Err")
            return Result.Ok(1)
        Result.Err(MyError.ErrorA) ->
            println("PASS: Err construction works")
            return Result.Ok(0)
        Result.Err(_) ->
            println("FAIL: Wrong error variant")
            return Result.Ok(1)
