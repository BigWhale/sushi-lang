# Test constraint violation on generic struct (should emit CE4006)

perk Hashable:
    fn hash() u64

struct Point:
    i32 x
    i32 y

# Point does NOT implement Hashable

# Generic struct with perk constraint
struct Container<T: Hashable>:
    T value

fn main() i32:
    # Error CE4006: Point does not implement perk Hashable
    let Container<Point> c = Container(Point(10, 20))
    return Result.Ok(0)
