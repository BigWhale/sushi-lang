# Test generic function with nested generic types

perk Hashable:
    fn hash() u64

struct Point:
    i32 x
    i32 y

extend Point with Hashable:
    fn hash() u64:
        return (self.x + self.y) as u64

struct Container<T: Hashable>:
    T value

# Generic function operating on nested generic type
fn hash_container<T: Hashable>(Container<T> c) u64:
    return Result.Ok(c.value.hash())

fn main() i32:
    let Point p = Point(10, 20)
    let Container<Point> c = Container(p)
    let u64 h = hash_container(c).realise(0 as u64)
    println(h)
    return Result.Ok(0)
